<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XMLEditor Assignee Test</title>
</head>
<body>
    <h1>XMLEditor Assignee Feature Test</h1>
    
    <h2>Test Case 1: XML with potentialOwner</h2>
    <p>When the XMLEditor receives this XML content:</p>
    <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 4px;">
&lt;extensionElements&gt;
  &lt;formData&gt;
    &lt;formMetadata formId="userInfoForm" version="1.0" display="inline"&gt;
      &lt;script&gt;&lt;![CDATA[
        function validateInput() {
          return true;
        }
      ]]&gt;&lt;/script&gt;
    &lt;/formMetadata&gt;
  &lt;/formData&gt;
&lt;/extensionElements&gt;
&lt;potentialOwner&gt;
  &lt;resourceRef&gt;User123&lt;/resourceRef&gt;
&lt;/potentialOwner&gt;
    </pre>
    
    <h3>Expected Behavior:</h3>
    <ul>
        <li>✅ The "XML Editor" tab shows only the extensionElements content</li>
        <li>✅ The "Assignee" tab shows "User123" in the Resource Reference field</li>
        <li>✅ The "Assignee" tab shows a preview of the potentialOwner XML</li>
        <li>✅ When "SAVE CHANGES" is clicked, both extensionElements and potentialOwner are combined and saved</li>
    </ul>
    
    <h2>Test Case 2: XML without potentialOwner</h2>
    <p>When the XMLEditor receives this XML content:</p>
    <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 4px;">
&lt;extensionElements&gt;
  &lt;formData&gt;
    &lt;formMetadata formId="userInfoForm" version="1.0" display="inline"&gt;
      &lt;script&gt;&lt;![CDATA[
        console.log('Hello World');
      ]]&gt;&lt;/script&gt;
    &lt;/formMetadata&gt;
  &lt;/formData&gt;
&lt;/extensionElements&gt;
    </pre>
    
    <h3>Expected Behavior:</h3>
    <ul>
        <li>✅ The "XML Editor" tab shows only the extensionElements content</li>
        <li>✅ The "Assignee" tab shows an empty Resource Reference field</li>
        <li>✅ User can enter "admin" in the Resource Reference field</li>
        <li>✅ The preview shows the potentialOwner XML structure</li>
        <li>✅ When "SAVE CHANGES" is clicked, both extensionElements and the new potentialOwner are combined</li>
    </ul>
    
    <h2>New UI Features Added:</h2>
    <ol>
        <li><strong>Third Accordion Tab:</strong> "Assignee" tab added alongside "XML Editor" and "Code Generator"</li>
        <li><strong>Resource Reference Field:</strong> Text input for entering the assignee user/role</li>
        <li><strong>XML Preview:</strong> Shows how the potentialOwner XML will look</li>
        <li><strong>Automatic Extraction:</strong> Reads existing potentialOwner from XML and populates the field</li>
        <li><strong>Save Integration:</strong> Combines assignee data with other XML when saving</li>
        <li><strong>Cancel Reset:</strong> Resets assignee field to original value when canceling</li>
    </ol>
    
    <h2>Technical Implementation:</h2>
    <ul>
        <li>Added <code>assigneeResourceRef</code> state to track the resource reference</li>
        <li>Enhanced XML parsing to extract potentialOwner/resourceRef values</li>
        <li>Modified save function to combine XML with potentialOwner data</li>
        <li>Added logic to handle updates/removal of existing potentialOwner elements</li>
        <li>Updated cancel function to reset assignee state</li>
    </ul>
</body>
</html>