<?xml version="1.0" encoding="UTF-8"?>  
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"   
             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"   
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"   
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI"   
             id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">  
  <process id="MyProcess" isExecutable="true">  
    <!-- Start Event -->  
    <startEvent id="StartEvent_1" name="Start">  
      <outgoing>Flow_1</outgoing>  
    </startEvent>  
  
    <!-- Sequence Flow from Start to Service Task -->  
    <sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="ServiceTask_1" />  
  
    <!-- Service Task with ioSpecification and JSON in extensionElements -->  
    <serviceTask id="ServiceTask_1" name="Invoke API">  
      <ioSpecification>  
        <dataInput id="Input_1" name="requestPayload">  
          <extensionElements>  
            <!-- JSON as reference or metadata; not standard for execution -->  
            <custom:jsonPayload xmlns:custom="http://example.com/custom">  
              <![CDATA[{  
                "operation": "getData",  
                "parameters": {  
                    "id": "12345",  
                    "type": "customer",  
                    "details": {  
                    "name": "John Doe",  
                    "email": "john.doe@example.com"  
                    }  
                }  
                }]]>  
            </custom:jsonPayload>  
          </extensionElements>  
        </dataInput>  
        <inputSet>  
          <dataInputRefs>Input_1</dataInputRefs>  
        </inputSet>  
        <dataOutput id="Output_1" name="responseData" />  
        <outputSet>  
          <dataOutputRefs>Output_1</dataOutputRefs>  
        </outputSet>  
      </ioSpecification>  
      <dataInputAssociation>  
        <sourceRef>Input_1</sourceRef>  
        <targetRef>ServiceTask_1</targetRef>  
      </dataInputAssociation>  
      <dataOutputAssociation>  
        <sourceRef>ServiceTask_1</sourceRef>  
        <targetRef>Output_1</targetRef>  
      </dataOutputAssociation>  
      <outgoing>Flow_2</outgoing>  
    </serviceTask>  
  
    <!-- Sequence Flow from Service Task to Script Task -->  
    <sequenceFlow id="Flow_2" sourceRef="ServiceTask_1" targetRef="ScriptTask_1" />  
  
    <!-- Script Task with Python Script -->  
    <scriptTask id="ScriptTask_1" name="Process Data with Python" scriptFormat="python">  
      <script>  
        <![CDATA[  
          # Python script to process data  
          print("Processing data...")  
          input_data = context.get_variable("inputData")  
          if input_data:  
              result = (input_data.upper() if isinstance(input_data, str) else str(input_data))  
              context.set_variable("processedData", result)  
          else:  
              context.set_variable("processedData", "No input data provided")  
        ]]>  
      </script>  
      <outgoing>Flow_3</outgoing>  
    </scriptTask>  
  
    <!-- Sequence Flow from Script Task to End Event -->  
    <sequenceFlow id="Flow_3" sourceRef="ScriptTask_1" targetRef="EndEvent_1" />  
  
    <!-- End Event -->  
    <endEvent id="EndEvent_1" name="End">  
      <incoming>Flow_3</incoming>  
    </endEvent>  
  </process>  
  
  <!-- BPMN Diagram Information (Optional Layout Info) -->  
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">  
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="MyProcess">  
      <bpmndi:BPMNShape id="StartEvent_1_di" bpmnElement="StartEvent_1" isMarkerVisible="true">  
        <dc:Bounds x="150" y="100" width="36" height="36" />  
      </bpmndi:BPMNShape>  
      <bpmndi:BPMNShape id="ServiceTask_1_di" bpmnElement="ServiceTask_1">  
        <dc:Bounds x="250" y="80" width="100" height="80" />  
      </bpmndi:BPMNShape>  
      <bpmndi:BPMNShape id="ScriptTask_1_di" bpmnElement="ScriptTask_1">  
        <dc:Bounds x="400" y="80" width="100" height="80" />  
      </bpmndi:BPMNShape>  
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1" isMarkerVisible="true">  
        <dc:Bounds x="550" y="100" width="36" height="36" />  
      </bpmndi:BPMNShape>  
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">  
        <di:waypoint x="186" y="118" />  
        <di:waypoint x="250" y="120" />  
      </bpmndi:BPMNEdge>  
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">  
        <di:waypoint x="350" y="120" />  
        <di:waypoint x="400" y="120" />  
      </bpmndi:BPMNEdge>  
      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">  
        <di:waypoint x="500" y="120" />  
        <di:waypoint x="550" y="118" />  
      </bpmndi:BPMNEdge>  
    </bpmndi:BPMNPlane>  
  </bpmndi:BPMNDiagram>  
</definitions>  